# Black Living ç®¡ç†å¾Œå°

Black Living é›»å•†å¹³å°çš„ç¶œåˆç®¡ç†å¾Œå°ï¼Œä½¿ç”¨ç¾ä»£ React æŠ€è¡“å»ºç½®ä¸¦éƒ¨ç½²åœ¨ Cloudflare Workers ä¸Šã€‚

## æ¦‚è¿°

Black Living ç®¡ç†å¾Œå°æ˜¯ä¸€å€‹å…¨ç«¯ç¶²é æ‡‰ç”¨ç¨‹å¼ï¼Œç‚º Black Living åºŠå¢Šé›¶å”®å•†æä¾›å®Œæ•´çš„é›»å•†ç®¡ç†åŠŸèƒ½ã€‚å®ƒæä¾›äº†ä¸€å¥—å®Œæ•´çš„å·¥å…·ä¾†ç®¡ç†ç”¢å“ã€è¨‚å–®ã€å®¢æˆ¶ã€å…§å®¹å’Œåˆ†æã€‚

## åŠŸèƒ½ç‰¹è‰²

### ğŸ›ï¸ ç”¢å“ç®¡ç†
- ç”¢å“ç›®éŒ„ç®¡ç†
- åº«å­˜è¿½è¹¤
- é¡åˆ¥çµ„ç¹”
- ç”¢å“åœ–ç‰‡ç®¡ç†

### ğŸ“¦ è¨‚å–®ç®¡ç†
- è¨‚å–®è™•ç†å’Œå±¥è¡Œ
- è¨‚å–®ç‹€æ…‹è¿½è¹¤
- å®¢æˆ¶è¨‚å–®æ­·å²
- è¨‚å–®åˆ†æ

### ğŸ‘¥ å®¢æˆ¶ç®¡ç†
- å®¢æˆ¶è³‡æ–™åº«
- å®¢æˆ¶å€‹äººè³‡æ–™
- è³¼è²·æ­·å²
- å®¢æˆ¶æºé€š

### ğŸ“ å…§å®¹ç®¡ç†ç³»çµ± (CMS)
- éƒ¨è½æ ¼æ–‡ç« å»ºç«‹å’Œç·¨è¼¯
- å‹•æ…‹é¡åˆ¥ç®¡ç†
- å¯Œæ–‡æœ¬ç·¨è¼¯å™¨ (BlockNote)
- åª’é«”åº«æ•´åˆ

### ğŸ“… é ç´„ç³»çµ±
- é ç´„æ’ç¨‹
- å®¢æˆ¶é ç´„ç®¡ç†
- è¡Œäº‹æ›†æ•´åˆ

### ğŸ“Š åˆ†æå¾Œå°
- éŠ·å”®åˆ†æ
- å®¢æˆ¶æ´å¯Ÿ
- æ•ˆèƒ½æŒ‡æ¨™
- å•†æ¥­æ™ºæ…§

### âš™ï¸ ç³»çµ±è¨­å®š
- è¨­å®šç®¡ç†
- ä½¿ç”¨è€…æ¬Šé™
- ç³»çµ±åå¥½

## æŠ€è¡“æ£§

### å‰ç«¯æ¡†æ¶
- **React Router v7** - å…¨ç«¯è·¯ç”±å’Œè³‡æ–™è¼‰å…¥
- **React 19** - UI æ¡†æ¶
- **TypeScript** - å‹åˆ¥å®‰å…¨

### UI èˆ‡æ¨£å¼
- **Tailwind CSS v4** - å¯¦ç”¨å„ªå…ˆçš„ CSS æ¡†æ¶
- **Shadcn/ui** - å…ƒä»¶åº«
- **Lucide React** - åœ–ç¤ºåº«

### è³‡æ–™ç®¡ç†
- **TanStack Table** - è³‡æ–™è¡¨æ ¼å…ƒä»¶
- **React Hook Form** - è¡¨å–®ç®¡ç†
- **Zod** - çµæ§‹é©—è­‰

### å…§å®¹ç·¨è¼¯
- **BlockNote** - å¯Œæ–‡æœ¬ç·¨è¼¯å™¨
- **Unpic React** - åœ–ç‰‡å„ªåŒ–

### é–‹ç™¼èˆ‡å»ºç½®
- **Vite** - å»ºç½®å·¥å…·å’Œé–‹ç™¼ä¼ºæœå™¨
- **Wrangler** - Cloudflare éƒ¨ç½²
- **Playwright** - ç«¯åˆ°ç«¯æ¸¬è©¦
- **Vitest** - å–®å…ƒæ¸¬è©¦

### å¾Œç«¯æ•´åˆ
- **Cloudflare Workers** - ç„¡ä¼ºæœå™¨å¾Œç«¯
- **Cloudflare D1** - SQLite è³‡æ–™åº«
- **Cloudflare R2** - æª”æ¡ˆå„²å­˜
- **Better Auth** - èªè­‰

## é–‹å§‹ä½¿ç”¨

### ç’°å¢ƒéœ€æ±‚

- **Node.js** >= 18.0.0
- **PNPM** >= 8.0.0 (å·¥ä½œå€å¥—ä»¶ç®¡ç†å™¨)
- **Wrangler CLI** (Cloudflare éƒ¨ç½²ç”¨)

### å®‰è£

1. **è¤‡è£½å°ˆæ¡ˆ** (å¦‚æœå°šæœªå®Œæˆ)ï¼š
   ```bash
   git clone <repository-url>
   cd website-blackliving-ecomm
   ```

2. **å®‰è£ä¾è³´**ï¼š
   ```bash
   pnpm install
   ```

3. **è¨­å®šç’°å¢ƒè®Šæ•¸**ï¼š
   ```bash
   cp apps/admin/.env.example apps/admin/.env
   # ç·¨è¼¯ .env è¨­å®šæ‚¨çš„é…ç½®
   ```

4. **è¨­å®š Wrangler** (Cloudflare éƒ¨ç½²ç”¨)ï¼š
   ```bash
   cp apps/admin/wrangler.example.toml apps/admin/wrangler.toml
   # ç·¨è¼¯ wrangler.toml è¨­å®šæ‚¨çš„ Cloudflare å¸³æˆ¶è³‡è¨Š
   ```

### é–‹ç™¼

1. **å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨**ï¼š
   ```bash
   cd apps/admin
   pnpm dev
   ```

   æ‡‰ç”¨ç¨‹å¼å°‡åœ¨ `http://localhost:5173` æä¾›æœå‹™

2. **å•Ÿå‹• API ä¼ºæœå™¨** (åœ¨å¦ä¸€å€‹çµ‚ç«¯æ©Ÿ)ï¼š
   ```bash
   cd apps/api
   pnpm dev
   ```

   API å°‡åœ¨ `http://localhost:8787` æä¾›æœå‹™

### å»ºç½®

å»ºç«‹ç”Ÿç”¢ç‰ˆæœ¬ï¼š

```bash
pnpm build
```

## æ¸¬è©¦

### å–®å…ƒæ¸¬è©¦

ä½¿ç”¨ Vitest åŸ·è¡Œå–®å…ƒæ¸¬è©¦ï¼š

```bash
pnpm test:unit
```

### ç«¯åˆ°ç«¯æ¸¬è©¦

ä½¿ç”¨ Playwright åŸ·è¡Œç«¯åˆ°ç«¯æ¸¬è©¦ï¼š

```bash
pnpm test
```

ç«¯åˆ°ç«¯æ¸¬è©¦åŒ…å« API å’Œ UI æ¸¬è©¦ï¼Œä¸¦è‡ªå‹•å•Ÿå‹•æ¸¬è©¦ä¼ºæœå™¨ã€‚

## éƒ¨ç½²

### Cloudflare Workers éƒ¨ç½²

æ‡‰ç”¨ç¨‹å¼è¨­è¨ˆç‚ºéƒ¨ç½²åˆ° Cloudflare Workersï¼Œæœ‰ä¸‰å€‹ç’°å¢ƒï¼š

#### é–‹ç™¼ç’°å¢ƒ
- æœ¬åœ°é–‹ç™¼èˆ‡ç†±é‡è¼‰
- é€£æ¥åˆ°æœ¬åœ° API ä¼ºæœå™¨

#### æ¸¬è©¦ç’°å¢ƒ
- éƒ¨ç½²åˆ° `blackliving-admin-staging.pukpuk-tw.workers.dev`
- é€£æ¥åˆ°æ¸¬è©¦ API

#### ç”Ÿç”¢ç’°å¢ƒ
- éƒ¨ç½²åˆ° `blackliving-admin.pukpuk-tw.workers.dev`
- é€£æ¥åˆ°ç”Ÿç”¢ API

### éƒ¨ç½²æŒ‡ä»¤

```bash
# éƒ¨ç½²åˆ°æ¸¬è©¦ç’°å¢ƒ
pnpm deploy:staging

# éƒ¨ç½²åˆ°ç”Ÿç”¢ç’°å¢ƒ
pnpm deploy:production
```

### ç’°å¢ƒé…ç½®

æ¯å€‹ç’°å¢ƒåœ¨ `wrangler.toml` ä¸­æœ‰ç‰¹å®šé…ç½®ï¼š

- **API URLs**ï¼šæ¯å€‹ç’°å¢ƒçš„ä¸åŒç«¯é»
- **åœ–ç‰‡ CDN**ï¼šCloudflare R2 æ•´åˆ
- **èªè­‰**ï¼šBetter Auth é…ç½®

## API æ•´åˆ

ç®¡ç†å¾Œå°èˆ‡ Black Living API (`apps/api`) æ•´åˆï¼Œæä¾›ï¼š

- RESTful CRUD æ“ä½œç«¯é»
- Better Auth èªè­‰
- åª’é«”ä¸Šå‚³å’Œç®¡ç†
- Cloudflare KV å¿«å–
- Cloudflare D1 è³‡æ–™åº«æ“ä½œ

### ä¸»è¦ API ç«¯é»

- `/api/products` - ç”¢å“ç®¡ç†
- `/api/orders` - è¨‚å–®è™•ç†
- `/api/customers` - å®¢æˆ¶è³‡æ–™
- `/api/posts` - éƒ¨è½æ ¼å…§å®¹
- `/api/appointments` - é ç´„æ’ç¨‹
- `/api/media` - æª”æ¡ˆä¸Šå‚³

## å°ˆæ¡ˆçµæ§‹

```
apps/admin/
â”œâ”€â”€ app/                    # æ‡‰ç”¨ç¨‹å¼åŸå§‹ç¢¼
â”‚   â”œâ”€â”€ components/         # å¯é‡ç”¨ UI å…ƒä»¶
â”‚   â”œâ”€â”€ contexts/           # React contexts
â”‚   â”œâ”€â”€ lib/                # å·¥å…·å‡½æ•¸
â”‚   â”œâ”€â”€ routes/             # è·¯ç”±å…ƒä»¶
â”‚   â”œâ”€â”€ services/           # API æœå‹™å‡½æ•¸
â”‚   â””â”€â”€ welcome/            # æ­¡è¿/å…¥é–€
â”œâ”€â”€ functions/              # Cloudflare Worker å‡½æ•¸
â”œâ”€â”€ public/                 # éœæ…‹è³‡æº
â”œâ”€â”€ tests/                  # æ¸¬è©¦æª”æ¡ˆ
â”œâ”€â”€ .env.example           # ç’°å¢ƒç¯„æœ¬
â”œâ”€â”€ components.json        # Shadcn/ui é…ç½®
â”œâ”€â”€ package.json           # ä¾è³´å’ŒæŒ‡ä»¤ç¢¼
â”œâ”€â”€ playwright.config.ts   # ç«¯åˆ°ç«¯æ¸¬è©¦é…ç½®
â”œâ”€â”€ tsconfig.json          # TypeScript é…ç½®
â”œâ”€â”€ vite.config.ts         # Vite å»ºç½®é…ç½®
â”œâ”€â”€ vitest.config.ts       # å–®å…ƒæ¸¬è©¦é…ç½®
â”œâ”€â”€ wrangler.toml          # Cloudflare éƒ¨ç½²é…ç½®
â””â”€â”€ README.md              # æ­¤æª”æ¡ˆ
```

## é–‹ç™¼æŒ‡å—

### ç¨‹å¼ç¢¼é¢¨æ ¼

- **TypeScript**ï¼šå•Ÿç”¨åš´æ ¼å‹åˆ¥æª¢æŸ¥
- **ESLint**ï¼šä½¿ç”¨ React Router è¦å‰‡çš„ç¨‹å¼ç¢¼æª¢æŸ¥
- **Prettier**ï¼šç¨‹å¼ç¢¼æ ¼å¼åŒ–
- **Tailwind**ï¼šå¯¦ç”¨å„ªå…ˆçš„ CSS æ–¹æ³•

### å…ƒä»¶æ¶æ§‹

- **Shadcn/ui**ï¼šä¸€è‡´çš„å…ƒä»¶åº«
- **React Hook Form**ï¼šè¡¨å–®ç®¡ç†
- **Zod**ï¼šåŸ·è¡ŒæœŸé©—è­‰
- **Context API**ï¼šç‹€æ…‹ç®¡ç†

### æ¸¬è©¦ç­–ç•¥

- **å–®å…ƒæ¸¬è©¦**ï¼šå…ƒä»¶å’Œå·¥å…·å‡½æ•¸æ¸¬è©¦
- **æ•´åˆæ¸¬è©¦**ï¼šAPI æ•´åˆæ¸¬è©¦
- **ç«¯åˆ°ç«¯æ¸¬è©¦**ï¼šé—œéµä½¿ç”¨è€…æµç¨‹æ¸¬è©¦

## éƒ¨è½æ ¼ç·¨è¼¯å™¨åŠŸèƒ½

éƒ¨è½æ ¼ç·¨è¼¯å™¨åŒ…å«å‹•æ…‹é¡åˆ¥ç®¡ç†ï¼š

- **å‹•æ…‹é¡åˆ¥**ï¼šå¾ API è¼‰å…¥é¡åˆ¥è€Œéç¡¬ç·¨ç¢¼å€¼
- **é¡åˆ¥é¸æ“‡**ï¼šå³æ™‚è¼‰å…¥é¡åˆ¥çš„ä¸‹æ‹‰é¸å–®
- **å¿«å–ç®¡ç†**ï¼šé‡æ–°æ•´ç†æŒ‰éˆ•æ¸…é™¤ä¼ºæœå™¨å¿«å–
- **å‘ä¸‹ç›¸å®¹**ï¼šåœ¨æ–‡ç« çµæ§‹ä¸­ç¶­æŒé¡åˆ¥åç¨±

### API æ•´åˆ

```bash
# è¼‰å…¥é¡åˆ¥
GET ${PUBLIC_API_URL}/api/posts/categories

# é¡åˆ¥è®Šæ›´å¾Œä½¿å¿«å–å¤±æ•ˆ
POST ${PUBLIC_API_URL}/api/posts/categories/cache/invalidate
```

## è²¢ç»æŒ‡å—

1. éµå¾ªæ—¢å®šçš„ç¨‹å¼ç¢¼é¢¨æ ¼å’Œæ¶æ§‹æ¨¡å¼
2. ç‚ºæ–°åŠŸèƒ½æ’°å¯«æ¸¬è©¦
3. è¦–éœ€è¦æ›´æ–°æ–‡ä»¶
4. ç¢ºä¿ TypeScript å‹åˆ¥æ­£ç¢ºå®šç¾©
5. åœ¨ç”Ÿç”¢ç’°å¢ƒå‰å…ˆåœ¨æ¸¬è©¦ç’°å¢ƒæ¸¬è©¦éƒ¨ç½²

## ç’°å¢ƒè®Šæ•¸

### å¿…è¦è®Šæ•¸

- `PUBLIC_API_URL`ï¼šAPI ç«¯é» URL
- `PUBLIC_IMAGE_CDN_URL`ï¼šåœ–ç‰‡ CDN URL
- `PUBLIC_SITE_URL`ï¼šç®¡ç†å¾Œå° URL
- `PUBLIC_WEB_URL`ï¼šå®¢æˆ¶ç¶²ç«™ URL

### é¸ç”¨è®Šæ•¸

- `NODE_ENV`ï¼šç’°å¢ƒ (development/staging/production)
- `API_BASE_URL`ï¼šå…§éƒ¨å‘¼å«çš„åŸºç¤ API URL

## ç–‘é›£æ’è§£

### å¸¸è¦‹å•é¡Œ

1. **API é€£ç·šå•é¡Œ**
   - ç¢ºä¿ API ä¼ºæœå™¨åœ¨ 8787 é€£æ¥åŸ åŸ·è¡Œ
   - æª¢æŸ¥ `.env` ä¸­çš„ç’°å¢ƒè®Šæ•¸

2. **å»ºç½®å¤±æ•—**
   - æ¸…é™¤ node_modulesï¼š`rm -rf node_modules && pnpm install`
   - æª¢æŸ¥ TypeScript éŒ¯èª¤ï¼š`pnpm typecheck`

3. **éƒ¨ç½²å•é¡Œ**
   - é©—è­‰ Wrangler èªè­‰ï¼š`wrangler auth login`
   - æª¢æŸ¥ Cloudflare å¸³æˆ¶æ¬Šé™

### é™¤éŒ¯æŒ‡ä»¤

```bash
# æª¢æŸ¥ API é€£ç·š
curl http://localhost:8787/api/health

# åŸ·è¡Œå‹åˆ¥æª¢æŸ¥
pnpm typecheck

# åŸ·è¡Œç¨‹å¼ç¢¼æª¢æŸ¥
pnpm lint

# æ¸…é™¤å¿«å–
rm -rf .react-router build
```

## æˆæ¬Š

æ­¤å°ˆæ¡ˆç‚º Black Living é›»å•†å¹³å°çš„ä¸€éƒ¨åˆ†ã€‚

---

ä½¿ç”¨ â¤ï¸ ç‚º Black Living åºŠå¢Šé›¶å”®ç®¡ç†è€Œå»ºç½®ã€‚

---

ğŸ“– [English Version](README.md) | [ç¹é«”ä¸­æ–‡ç‰ˆ](README-zh-TW.md)