---
// Base layout for all Black Living pages
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import FloatingButtons from '../components/FloatingButtons.astro';
import SearchModal from '../components/SearchModal.tsx';
import SEO from '../components/SEO.astro';
import AnnouncementBar from '../components/AnnouncementBar.astro';
import { Font } from 'astro:assets';
import '@blackliving/tailwind-config/styles.css';

export interface Props {
  title: string;
  description: string;
  canonical?: string;
  image?: string;
  type?: 'website' | 'article' | 'product';
  publishedTime?: string;
  modifiedTime?: string;
  schema?: object;
  class?: string;
}

const {
  title,
  description,
  canonical,
  image,
  type,
  publishedTime,
  modifiedTime,
  schema,
  class: className = 'overflow-x-hidden',
} = Astro.props;
---

<!doctype html>
<html lang="zh-TW" class="theme-web-blackliving">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />

    <!-- SEO -->
    <SEO {title} {description} {canonical} {image} {type} {publishedTime} {modifiedTime} {schema} />

    <!-- Fonts -->
    <Font cssVariable="--font-agatho" preload />
    <Font cssVariable="--font-noto-tc" preload />
    <Font cssVariable="--font-crimson-text" preload />

    <!-- Google Tag Manager (placeholder) -->
    <!-- Add GTM script here when ready -->
  </head>

  <body class={`font-sans antialiased ${className}`}>
    <!-- Google Tag Manager (noscript) -->
    <!-- Add GTM noscript here when ready -->

    <AnnouncementBar />

    <Header />

    <main>
      <slot />
    </main>

    <Footer />

    <FloatingButtons />

    <SearchModal client:load />
  </body>
</html>

<style is:global>
  html {
    font-family: var(--font-crimson-text), var(--font-noto-tc), system-ui, sans-serif;
    scroll-behavior: smooth;
  }

  body {
    line-height: 1.6;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
  }

  ::-webkit-scrollbar-track {
    background: #f1f1f1;
  }

  ::-webkit-scrollbar-thumb {
    background: #888;
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: #555;
  }
</style>
