---
// Homepage for Black Living
import BaseLayout from '../layouts/BaseLayout.astro';
import HeroSlider from '../components/HeroSlider.astro';
import BrandStory from '../components/BrandStory.astro';
import FeatureIcons from '../components/FeatureIcons.astro';
import FeatureAd from '../components/FeatureAd.astro';
import FeatureProductBanner from '../components/FeatureProductBanner.astro';
import FeaturedProducts from '../components/FeaturedProducts.astro';
import CTA from '../components/CTA.astro';
import StoreMaps from '../components/StoreMaps.astro';
import Testimonial from '../components/Testimonial.astro';
import { Image } from 'astro:assets';
import { getEntry } from 'astro:content';

// Get store information from content collection
const storeData = await getEntry('storeinfo', 'storeinfo');
const stores = storeData?.data.stores || [];
---

<BaseLayout
  title="Black Living 黑哥家居 - 席夢思黑標床墊專家"
  description="專營席夢思黑標床墊，提供全台最低價與專業服務。中和、中壢實體展間，歡迎預約試躺體驗。"
  type="website"
  image="/og-image.jpg"
>
  <!-- Hero Section -->
  <HeroSlider />

  <BrandStory />

  <!-- Feature Icons -->
  <FeatureIcons />
  <!-- Feature Product Banner -->
  <FeatureProductBanner
    imageUrl="/feature-banner/blackliving-feature-banner.webp"
    alt="席夢思黑標床墊"
    aspectRatio="standard"
    showOnDesktop={true}
    showOnMobile={false}
    gradientDirection="left-to-right"
    gradientFromColor="transparent"
    gradientToColor="black"
    gradientOpacity={0}
    textPosition="right"
    textTitle="席夢思黑標系列"
    textDescription="Beautyrest Black"
  />
  <FeatureProductBanner
    imageUrl="/feature-banner/blackliving-feature-banner-mobile.webp"
    alt="席夢思黑標床墊"
    aspectRatio="wide"
    showOnDesktop={false}
    showOnMobile={true}
    gradientDirection="left-to-right"
    gradientFromColor="transparent"
    gradientToColor="black"
    gradientOpacity={0}
    textPosition="right"
    textTitle="席夢思黑標系列"
    textDescription="Beautyrest Black"
  />
  <!-- Featured Bed Products -->
  <FeaturedProducts
    title="席夢思熱銷床墊"
    category="simmons-black"
    ctaText="查看完整產品系列"
    ctaHref="/simmons-black"
    limit={4}
    class="!bg-primary/25"
  />
  <!-- Feature Product Banner -->
  <FeatureProductBanner
    imageUrl="/feature-banner/blackliving-feature-banner-accesories-2.webp"
    alt="席夢思黑標床墊"
    aspectRatio="standard"
    showOnDesktop={true}
    showOnMobile={false}
    gradientDirection="right-to-left"
    gradientFromColor="transparent"
    gradientToColor="var(--primary)"
    gradientOpacity={0}
    textPosition="left"
    textTitle="精選周邊系列"
    textDescription="Selected Peripheral Series"
  />
  <FeatureProductBanner
    imageUrl="/feature-banner/blackliving-feature-banner-accesories-mobile-2.webp"
    alt="席夢思黑標床墊"
    aspectRatio="wide"
    showOnDesktop={false}
    showOnMobile={true}
    gradientDirection="right-to-left"
    gradientFromColor="transparent"
    gradientToColor="var(--primary)"
    gradientOpacity={0}
    textPosition="left"
    textTitle="精選周邊系列"
    textDescription="Selected Peripheral Series"
  />
  <!-- Featured Accessories -->
  <FeaturedProducts
    title="精選周邊熱銷品"
    category="accessories"
    ctaText="查看更多配件"
    ctaHref="/accessories"
    limit={4}
    class="!bg-primary/25"
  />

  <!-- Testimonials Preview -->
  <Testimonial />

  <!-- CTA Section -->
  <CTA
    title="準備好體驗頂級睡眠了嗎？"
    description="歡迎蒞臨我們的實體展間，親自體驗席夢思黑標床墊的舒適感受。"
    primaryButtonText="立即預約試躺"
    primaryButtonHref="/appointment"
    secondaryButtonText="Line 線上諮詢"
    secondaryButtonHref="https://line.me/R/ti/p/@blackking"
    secondaryButtonTarget="_blank"
    desktopImage="/CTA/blackliving-CTA-background-img.webp"
    mobileImage="/CTA/blackliving-CTA-background-mobile-img.webp"
    textAlignDesktop="left"
    textAlignMobile="right"
    gradientDirection="left-to-right"
    gradientFromColor="var(--primary)"
    gradientToColor="transparent"
    gradientOpacity={0}
    className="mt-0"
  />
  <!-- Store Locations -->
  <section class="w-screen mx-auto pt-4 bg-primary/25">
    <div class="flex flex-col items-center gap-4">
      {
        stores.map((store) => (
          <div class="w-screen h-fit">
            <StoreMaps
              embedUrl={store.embedUrl}
              infoBox={{
                name: store.name,
                address: store.address,
                phone: store.phone,
                opening: store.opening,
              }}
              infoBoxPosition={store.infoBoxPosition}
              mapHeight={store.mapHeight}
              responsivePosition={store.responsivePosition}
              bgColor={store.bgColor}
              textColor={store.textColor}
              textAlign={store.textAlign}
              borderColor={store.borderColor}
            />
          </div>
        ))
      }
    </div>
  </section>
</BaseLayout>
